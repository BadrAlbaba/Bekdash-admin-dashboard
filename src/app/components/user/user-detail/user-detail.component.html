<!-- Loading Spinner -->
<div *ngIf="loading" class="text-center py-5">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">{{ "COMMON.LOADING" | translate }}</span>
  </div>
</div>

<!-- Error Alert -->
<div *ngIf="error" class="alert alert-danger my-3">
  {{ error }}
</div>

<!-- User Details Card -->
<div *ngIf="user && !loading" class="card shadow-sm border-0 p-4 my-4">
  <h4 class="mb-4 border-bottom pb-2">{{ "USER_DETAIL.TITLE" | translate }}</h4>

  <div class="row mb-3">
    <div class="col-md-6 mb-2">
      <strong>{{ "USER_DETAIL.NAME" | translate }}:</strong> {{ user.name }}
    </div>
    <div class="col-md-6 mb-2">
      <strong>{{ "USER_DETAIL.EMAIL" | translate }}:</strong> {{ user.email }}
    </div>
    <div class="col-md-6 mb-2">
      <strong>{{ "USER_DETAIL.PHONE" | translate }}:</strong> {{ user.phone }}
    </div>
    <div class="col-md-6 mb-2">
      <strong>{{ "USER_DETAIL.ROLE" | translate }}:</strong> {{ user.role }}
    </div>
    <div class="col-md-6 mb-2">
      <strong>{{ "USER_DETAIL.CREATED" | translate }}:</strong>
      {{ user.createdAt | date : "medium" }}
    </div>
  </div>

  <!-- Address Section -->
  <div *ngIf="user.address" class="mt-4">
    <h5 class="mb-3 border-bottom pb-2">
      {{ "USER_DETAIL.ADDRESS.TITLE" | translate }}
    </h5>
    <p class="mb-1">
      <strong>{{ "USER_DETAIL.ADDRESS.STREET" | translate }}:</strong>
      {{ user.address.street }}
    </p>
    <p class="mb-1">
      <strong>{{ "USER_DETAIL.ADDRESS.CITY" | translate }}:</strong>
      {{ user.address.city }}
    </p>
    <p class="mb-1">
      <strong>{{ "USER_DETAIL.ADDRESS.COUNTRY" | translate }}:</strong>
      {{ user.address.country }}
    </p>
  </div>
</div>

<!-- Customer Info Section -->
<div *ngIf="user?.customer" class="card border-0 shadow-sm p-4 mb-4">
  <h5 class="mb-3 border-bottom pb-2">
    {{ "USER_DETAIL.CUSTOMER_INFO.TITLE" | translate }}
  </h5>
  <div class="row">
    <div class="col-md-4 mb-2">
      <strong>{{ "USER_DETAIL.CUSTOMER_INFO.VERIFIED" | translate }}:</strong>
      {{
        user.customer.isVerified
          ? ("COMMON.YES" | translate)
          : ("COMMON.NO" | translate)
      }}
    </div>
    <div class="col-md-4 mb-2">
      <strong>{{ "USER_DETAIL.CUSTOMER_INFO.ORDERS" | translate }}:</strong>
      {{ user.customer.orderCount }}
    </div>
    <div class="col-md-4 mb-2">
      <strong>{{ "USER_DETAIL.CUSTOMER_INFO.REVIEWS" | translate }}:</strong>
      {{ user.customer.reviewCount }}
    </div>
    <div class="col-md-4 mb-2">
      <strong>{{ "USER_DETAIL.CUSTOMER_INFO.WISHLIST" | translate }}:</strong>
      {{ user.customer.wishlistCount }}
    </div>
    <div class="col-md-4 mb-2">
      <strong>{{ "USER_DETAIL.CUSTOMER_INFO.BASKET" | translate }}:</strong>
      {{ user.customer.basketCount }}
    </div>
  </div>
</div>

<!-- Action Buttons -->
<div class="d-flex flex-wrap gap-2 mt-3">
  <button
    *ngIf="user?.seller?.products?.length"
    class="btn btn-outline-primary d-flex align-items-center"
    (click)="onSellerProducts()"
  >
    <i class="bi bi-box-seam me-2"></i>
    {{ "USER_DETAIL.ACTIONS.SELLER_PRODUCTS" | translate }}
  </button>
  <button
    class="btn btn-outline-primary d-flex align-items-center"
    (click)="onEdit()"
  >
    <i class="bi bi-pencil-square me-2"></i>
    {{ "COMMON.EDIT" | translate }}
  </button>
  <button
    class="btn btn-outline-danger d-flex align-items-center"
    (click)="onDelete()"
  >
    <i class="bi bi-trash me-2"></i>
    {{ "COMMON.DELETE" | translate }}
  </button>
  <button
    class="btn btn-outline-secondary d-flex align-items-center"
    (click)="onBack()"
  >
    <i class="bi bi-arrow-left me-2"></i>
    {{ "COMMON.BACK" | translate }}
  </button>
</div>
